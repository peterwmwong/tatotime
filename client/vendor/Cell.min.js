(function(){var a,b,c,d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k=Array.prototype.slice;b=function(){var a,b;b=Array.prototype.slice;return(a=Function.prototype.bind)?function(c,d){return a.apply(c,[d].concat(b.call(arguments,2)))}:function(a,c){var d;d=b.call(arguments,2);return function(){return a.apply(c,d.concat(b.call(arguments)))}}}(),c=typeof (typeof console!="undefined"&&console!==null?console.error:void 0)==="function"?function(a){return console.error(a)}:function(){},e=function(a){return a},d=function(a,b){var c;for(c in b)a[c]=b[c];return a},g=function(){var a;a=0;return function(b){return b+a++}}(),f=function(){var a;a=function(){};return function(b,c){var e;e=c&&c.hasOwnProperty("constructor")?c.constructor:function(){return b.apply(this,arguments)},d(e,b),a.prototype=b.prototype,e.prototype=new a,d(e.prototype,c),e.prototype.constructor=e,e.__super__=b.prototype;return e}}(),(h=window.Cell)!=null?h:window.Cell=a=function(){var a,f;f=document.createElement("div"),a=["model","collection","class","id"];return function(h){var i,k,l,m,n,o,p,q,r,s;this.options=h!=null?h:{},this._cid=g("__cell_instance_");for(o=0,q=a.length;o<q;o++){m=a[o];if(l=this.options[m])this[m]=l}this._parent=this.options.parent,this._onrender=typeof this.options.onrender==="function"?h.onrender:void 0,typeof this.__attach_css=="function"&&this.__attach_css(),f.innerHTML=this.__renderOuterHTML,this.el=f.children[0],i="",s=[this.__cell_name,this.el.className,this["class"]];for(p=0,r=s.length;p<r;p++)k=s[p],k&&(i+=i?" "+k:k);this.el.className=i,typeof this.id==="string"&&(this.el.id=this.id),n=j(function(a,b){var f,h,i,j,k,l,m,o,p;if(a==null||a===!1)return"";if((k=typeof a)==="string"||k==="number")return a;if(((p=a.prototype)!=null?p.Cell:void 0)===a){f=new a(d(b!=null?b:{},{parent:this}));return"<"+f.__renderTagName+" id='"+f._cid+"'></"+f.__renderTagName+">"}if(a instanceof HTMLElement){this._renderQ[l=g("__cell_render_node_")]=a;return"<"+a.tagName+" id='"+l+"'></"+a.tagName+">"}if(a instanceof Array){i=0,j="",typeof b!=="function"&&(b=e);for(m=0,o=a.length;m<o;m++)h=a[m],j+=n(b(h,i++,a));return j}c("render({CellType,HTMLElement,string,number},[cellOptions])");return""},this),this._renderHelper=j(function(a,b){return this._renderQ==null?"":n(a,b)},this),this._renderHelper.async=b(this.__renderinnerHTML,this);return this.update()}}(),a.extend=function(){var a,b,d;d=/render( <(\w+)([ ]+.*)*>)*/,a=/bind( (.+))?/;return b=function(e,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;k=[];for(p in e){o=e[p];if((m=a.exec(p))&&typeof o==="object"){h=(r=m[2])!=null?r:"el";for(j in o)l=o[j],typeof l==="string"&&(o[j]=(s=e[l])!=null?s:this.prototype[l]);k.push({prop:h,desc:o})}else if(!e.__renderTagName&&(m=d.exec(p))){if(typeof (e.__render=o)!=="function"){c("Cell.extend expects '"+p+"' to be a function");return}q=e.__renderTagName=(t=m[2])!=null?t:"div",e.__renderOuterHTML="<"+q+((u=m[3])!=null?u:"")+"></"+q+">"}}k.length&&(e.__eventBindings=k),i=f(this,e);if((n=i.prototype).__renderTagName){i.extend=b,n.Cell=i,g&&(n.__cell_name=g);if((v=typeof e.css_href==="string")!=null?v:typeof e.css==="string")n.__attach_css=function(){var a,b;delete n.__attach_css,typeof (a=e.css)==="string"?(b=document.createElement("style"),b.innerHTML=a):(b=document.createElement("link"),b.href=e.css_href,b.rel="stylesheet"),b.type="text/css";return $("head").append(b)};return i}return c("Cell.extend([constructor:Function],prototypeMembers:Object): could not find a render function in prototypeMembers")}}(),a.prototype={$:function(a){return $(a,this.el)},update:function(){var a;if(!this._renderQ){this._renderQ={},typeof this.initialize=="function"&&this.initialize();if(typeof (a=this.__render(this._renderHelper))==="string")return this.__renderinnerHTML(a)}},__delegateEvents:function(){var a,c,d,e,f;c=/^(\w+)\s*(.*)$/,f=function(a,c,d,e,f){var g;e=b(e,f),c=""+c+"."+f._cid,(g=$(f[d])).delegate(a,c,e);return function(){return g.undelegate(a,c,e)}},d=function(a,c,d,e){var f;d=b(d,e),(f=$(e[c])).bind(a,d);return function(){return f.unbind(a,d)}},a=function(a,c,d,e){var f;d=b(d,e),(f=e[c]).bind(a,d);return function(){return f.unbind(a,d)}},e=function(e,g,h){var i,j,k,l,m,n,o,p,q,r,s;o=e[g],i=[];for(j in h)l=h[j],typeof j==="string"&&(o.nodeType===1?(s=(r=c.exec(j))!=null?r:[],n=s[0],k=s[1],q=s[2],(m=c.exec(j))&&i.push((p=m[2])?b(f,null,p,k,g,l):b(d,null,k,g,l))):typeof o.bind==="function"&&i.push(b(a,null,j,g,l)));return i};return function(){var a,b,c,d,f,g,h,i,j,k,l,m;if(this._unbinds){l=this._unbinds;for(f=0,i=l.length;f<i;f++){d=l[f];try{d()}catch(n){}}delete this._unbinds}if(c=this.Cell.prototype.__eventBindings){delete this.Cell.prototype.__eventBindings,b=[];for(g=0,j=c.length;g<j;g++)a=c[g],b=b.concat(e(this,a.prop,a.desc));this.Cell.prototype.__binderCache=b}if(this.__binderCache){this._unbinds=[],m=this.__binderCache;for(h=0,k=m.length;h<k;h++)a=m[h],this._unbinds.push(a(this))}}}(),__renderinnerHTML:function(a){var b,c,d;if(this._renderQ){this.el.innerHTML=this._ie_hack_innerHTML=a,d=this._renderQ;for(c in d)b=d[c],b.el.innerHTML||(b.el.innerHTML=b._ie_hack_innerHTML),this.$("#"+c).replaceWith(b.el),delete b._ie_hack_innerHTML;delete this._renderQ;return this.__onrender()}},__onchildrender:function(a){if(this._renderQ)return this._renderQ[a._cid]=a;delete a._ie_hack_innerHTML;return this.$("#"+a._cid).replaceWith(a.el)},__onrender:function(){var a;this.__delegateEvents(),(a=this._parent)!=null&&(typeof a.__onchildrender=="function"&&a.__onchildrender(this));try{return typeof this._onrender=="function"?this._onrender(this):void 0}catch(b){}}},typeof window.define==="function"&&($(function(){var a,b,c,d,e;e=$("[data-cell]");for(c=0,d=e.length;c<d;c++)b=e[c],(a=b.getAttribute("data-cell"))&&function(b){var c,d,e,f;f={},d=/(^\?cachebust)|(&cachebust)/.test(window.location.search),((e=b.getAttribute("data-cell-cachebust"))!==null||d)&&e!=="false"&&(f.urlArgs="bust="+(new Date).getTime());if(c=b.getAttribute("data-cell-baseurl"))f.baseUrl=c;return require(f,[a],function(a){return $(b).append((new a).el)})}(b)}),(i=window.cell)!=null?i:window.cell={define:function(){var b,d;d=/(.*\/)?(.*)/,b=function(a){var b;return(b=typeof a)==="function"||b==="object"?a:c("Cell definition is not a function or object")};return function(c,e,f){var g;f?f=b(f):e?(f=b(e),e=void 0,c instanceof Array&&(e=c,c=void 0)):c&&(f=b(c),c=e=void 0);if(f){e=(e instanceof Array?e:[]).concat(["require","module"]),c=typeof c==="string"&&c,g=[],c&&g.push(c),g.push(e),g.push(function(){var b,c,g,h,i;e=3<=arguments.length?k.call(arguments,0,h=arguments.length-2):(h=0,[]),g=arguments[h++],c=arguments[h++],b=d.exec(c.id)[2],f=typeof f==="function"?f.apply(null,e):f,(i=f.css_href)!=null?i:f.css_href=g.toUrl("./"+b+".css");return a.extend(f,b)});return define.apply(null,g)}}}()})}).call(this)
